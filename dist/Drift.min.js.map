{"version":3,"sources":["webpack:/// [synthetic:base] ","webpack:/// [synthetic:es6/util/arrayiterator] ","webpack:/// [synthetic:util/defines] ","webpack:/// [synthetic:util/defineproperty] ","webpack:/// [synthetic:util/global] ","webpack:/// [synthetic:util/shouldpolyfill] ","webpack:/// [synthetic:util/polyfill] ","webpack:/// [synthetic:es6/symbol] ","webpack:/// [synthetic:es6/util/createtemplatetagfirstarg] ","webpack:///Drift.min.js","webpack:///webpack/bootstrap","webpack:///./src/js/util/dom.js","webpack:///./src/js/util/throwIfMissing.js","webpack:///./src/js/BoundingBox.js","webpack:///./src/js/Trigger.js","webpack:///./src/js/ZoomPane.js","webpack:///./src/js/Drift.js","webpack:///./src/js/injectBaseStylesheet.js","webpack:///./src/js/Drift-browser.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","__webpack_require__.d","name","getter","o","Object","defineProperty","enumerable","get","r","__webpack_require__.r","Symbol","toStringTag","value","t","__webpack_require__.t","mode","__esModule","ns","create","key","bind","n","__webpack_require__.n","getDefault","getModuleExports","__webpack_require__.o","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","isDOMElement","obj","HAS_DOM_2","HTMLElement","nodeType","nodeName","addClasses","el","classNames","forEach","className","classList","add","removeClasses","remove","throwIfMissing","Error","BoundingBox_BoundingBox","constructor","options","isShowing","namespace","zoomFactor","containerEl","settings","openClasses","_buildClasses","_buildElement","suffix","classes","push","document","createElement","show","zoomPaneWidth","zoomPaneHeight","appendChild","style","width","Math","round","height","hide","removeChild","setPosition","percentageOffsetX","percentageOffsetY","triggerRect","pageXOffset","window","pageYOffset","inlineLeft","left","clientWidth","inlineTop","top","clientHeight","Trigger_Trigger","_show","_hide","_handleEntry","_handleMovement","zoomPane","sourceAttribute","handleTouch","onShow","onHide","hoverDelay","touchDelay","hoverBoundingBox","touchBoundingBox","boundingBoxContainer","boundingBox","enabled","_bindEvents","_preventDefault","event","preventDefault","_preventDefaultAllowTouchScroll","_isTouchEvent","touches","addEventListener","_unbindEvents","removeEventListener","e","_lastMovement","type","entryTimeout","setTimeout","getAttribute","touchActivated","clearTimeout","movementX","firstTouch","clientX","movementY","clientY","rect","getBoundingClientRect","ZoomPane_ZoomPane","HAS_ANIMATION","divStyle","_completeShow","_completeHide","_handleLoad","container","inline","showWhitespaceAtEdges","containInline","inlineOffsetX","inlineOffsetY","inlineContainer","body","openingClasses","closingClasses","inlineClasses","loadingClasses","loaderEl","imgEl","_setImageURL","imageURL","setAttribute","_setImageSize","triggerWidth","triggerHeight","imgElWidth","offsetWidth","imgElHeight","offsetHeight","elWidth","elHeight","differenceBetweenContainerWidthAndImgWidth","differenceBetweenContainerHeightAndImgHeight","isContainerLargerThanImgX","isContainerLargerThanImgY","minLeft","minTop","maxLeft","maxTop","parentElement","scrollX","scrollY","transform","webkitTransform","_removeListenersAndResetClasses","_isInline","_showInline","_showInContainer","innerWidth","Drift_Drift","triggerEl","VERSION","destroy","TypeError","paneContainer","undefined","inlinePane","injectBaseStyles","querySelector","styleEl","createTextNode","RULES","head","insertBefore","firstChild","_buildZoomPane","_buildTrigger","trigger","setZoomImageURL","disable","enable","zf","set"],"mappings":"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","file":"Drift.min.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// This is not really a perfect check, but works fine.\n// From http://stackoverflow.com/questions/384286\nconst HAS_DOM_2 = typeof HTMLElement === \"object\";\n\nexport function isDOMElement(obj) {\n  return HAS_DOM_2\n    ? obj instanceof HTMLElement\n    : obj && typeof obj === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\";\n}\n\nexport function addClasses(el, classNames) {\n  classNames.forEach(function(className) {\n    el.classList.add(className);\n  });\n}\n\nexport function removeClasses(el, classNames) {\n  classNames.forEach(function(className) {\n    el.classList.remove(className);\n  });\n}\n","export default function throwIfMissing() {\n  throw new Error(\"Missing parameter\");\n}\n","import throwIfMissing from \"./util/throwIfMissing\";\nimport { addClasses, removeClasses } from \"./util/dom\";\n\nexport default class BoundingBox {\n  constructor(options) {\n    this.isShowing = false;\n\n    const { namespace = null, zoomFactor = throwIfMissing(), containerEl = throwIfMissing() } = options;\n\n    this.settings = { namespace, zoomFactor, containerEl };\n\n    this.openClasses = this._buildClasses(\"open\");\n\n    this._buildElement();\n  }\n\n  _buildClasses(suffix) {\n    const classes = [`drift-${suffix}`];\n\n    const ns = this.settings.namespace;\n    if (ns) {\n      classes.push(`${ns}-${suffix}`);\n    }\n\n    return classes;\n  }\n\n  _buildElement() {\n    this.el = document.createElement(\"div\");\n    addClasses(this.el, this._buildClasses(\"bounding-box\"));\n  }\n\n  show(zoomPaneWidth, zoomPaneHeight) {\n    this.isShowing = true;\n\n    this.settings.containerEl.appendChild(this.el);\n\n    const style = this.el.style;\n    style.width = `${Math.round(zoomPaneWidth / this.settings.zoomFactor)}px`;\n    style.height = `${Math.round(zoomPaneHeight / this.settings.zoomFactor)}px`;\n\n    addClasses(this.el, this.openClasses);\n  }\n\n  hide() {\n    if (this.isShowing) {\n      this.settings.containerEl.removeChild(this.el);\n    }\n\n    this.isShowing = false;\n\n    removeClasses(this.el, this.openClasses);\n  }\n\n  setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n    const pageXOffset = window.pageXOffset;\n    const pageYOffset = window.pageYOffset;\n\n    let inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + pageXOffset;\n    let inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + pageYOffset;\n\n    if (inlineLeft < triggerRect.left + pageXOffset) {\n      inlineLeft = triggerRect.left + pageXOffset;\n    } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + pageXOffset) {\n      inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + pageXOffset;\n    }\n\n    if (inlineTop < triggerRect.top + pageYOffset) {\n      inlineTop = triggerRect.top + pageYOffset;\n    } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + pageYOffset) {\n      inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + pageYOffset;\n    }\n\n    this.el.style.left = `${inlineLeft}px`;\n    this.el.style.top = `${inlineTop}px`;\n  }\n}\n","import throwIfMissing from \"./util/throwIfMissing\";\nimport BoundingBox from \"./BoundingBox\";\n\nexport default class Trigger {\n  constructor(options = {}) {\n    this._show = this._show.bind(this);\n    this._hide = this._hide.bind(this);\n    this._handleEntry = this._handleEntry.bind(this);\n    this._handleMovement = this._handleMovement.bind(this);\n\n    const {\n      el = throwIfMissing(),\n      zoomPane = throwIfMissing(),\n      sourceAttribute = throwIfMissing(),\n      handleTouch = throwIfMissing(),\n      onShow = null,\n      onHide = null,\n      hoverDelay = 0,\n      touchDelay = 0,\n      hoverBoundingBox = throwIfMissing(),\n      touchBoundingBox = throwIfMissing(),\n      namespace = null,\n      zoomFactor = throwIfMissing(),\n      boundingBoxContainer = throwIfMissing()\n    } = options;\n\n    this.settings = {\n      el,\n      zoomPane,\n      sourceAttribute,\n      handleTouch,\n      onShow,\n      onHide,\n      hoverDelay,\n      touchDelay,\n      hoverBoundingBox,\n      touchBoundingBox,\n      namespace,\n      zoomFactor,\n      boundingBoxContainer\n    };\n\n    if (this.settings.hoverBoundingBox || this.settings.touchBoundingBox) {\n      this.boundingBox = new BoundingBox({\n        namespace: this.settings.namespace,\n        zoomFactor: this.settings.zoomFactor,\n        containerEl: this.settings.boundingBoxContainer\n      });\n    }\n\n    this.enabled = true;\n\n    this._bindEvents();\n  }\n\n  get isShowing() {\n    return this.settings.zoomPane.isShowing;\n  }\n\n  _preventDefault(event) {\n    event.preventDefault();\n  }\n\n  _preventDefaultAllowTouchScroll(event) {\n    if (!this.settings.touchDelay || !this._isTouchEvent(event) || this.isShowing) {\n      event.preventDefault();\n    }\n  }\n\n  _isTouchEvent(event) {\n    return !!event.touches;\n  }\n\n  _bindEvents() {\n    this.settings.el.addEventListener(\"mouseenter\", this._handleEntry, false);\n    this.settings.el.addEventListener(\"mouseleave\", this._hide, false);\n    this.settings.el.addEventListener(\"mousemove\", this._handleMovement, false);\n\n    if (this.settings.handleTouch) {\n      this.settings.el.addEventListener(\"touchstart\", this._handleEntry, false);\n      this.settings.el.addEventListener(\"touchend\", this._hide, false);\n      this.settings.el.addEventListener(\"touchmove\", this._handleMovement, false);\n    } else {\n      this.settings.el.addEventListener(\"touchstart\", this._preventDefault, false);\n      this.settings.el.addEventListener(\"touchend\", this._preventDefault, false);\n      this.settings.el.addEventListener(\"touchmove\", this._preventDefault, false);\n    }\n  }\n\n  _unbindEvents() {\n    this.settings.el.removeEventListener(\"mouseenter\", this._handleEntry, false);\n    this.settings.el.removeEventListener(\"mouseleave\", this._hide, false);\n    this.settings.el.removeEventListener(\"mousemove\", this._handleMovement, false);\n\n    if (this.settings.handleTouch) {\n      this.settings.el.removeEventListener(\"touchstart\", this._handleEntry, false);\n      this.settings.el.removeEventListener(\"touchend\", this._hide, false);\n      this.settings.el.removeEventListener(\"touchmove\", this._handleMovement, false);\n    } else {\n      this.settings.el.removeEventListener(\"touchstart\", this._preventDefault, false);\n      this.settings.el.removeEventListener(\"touchend\", this._preventDefault, false);\n      this.settings.el.removeEventListener(\"touchmove\", this._preventDefault, false);\n    }\n  }\n\n  _handleEntry(e) {\n    this._preventDefaultAllowTouchScroll(e);\n    this._lastMovement = e;\n\n    if (e.type == \"mouseenter\" && this.settings.hoverDelay) {\n      this.entryTimeout = setTimeout(this._show, this.settings.hoverDelay);\n    } else if (this.settings.touchDelay) {\n      this.entryTimeout = setTimeout(this._show, this.settings.touchDelay);\n    } else {\n      this._show();\n    }\n  }\n\n  _show() {\n    if (!this.enabled) {\n      return;\n    }\n\n    const onShow = this.settings.onShow;\n    if (onShow && typeof onShow === \"function\") {\n      onShow();\n    }\n\n    this.settings.zoomPane.show(\n      this.settings.el.getAttribute(this.settings.sourceAttribute),\n      this.settings.el.clientWidth,\n      this.settings.el.clientHeight\n    );\n\n    if (this._lastMovement) {\n      const touchActivated = this._lastMovement.touches;\n      if ((touchActivated && this.settings.touchBoundingBox) || (!touchActivated && this.settings.hoverBoundingBox)) {\n        this.boundingBox.show(this.settings.zoomPane.el.clientWidth, this.settings.zoomPane.el.clientHeight);\n      }\n    }\n\n    this._handleMovement();\n  }\n\n  _hide(e) {\n    if (e) {\n      this._preventDefaultAllowTouchScroll(e);\n    }\n\n    this._lastMovement = null;\n\n    if (this.entryTimeout) {\n      clearTimeout(this.entryTimeout);\n    }\n\n    if (this.boundingBox) {\n      this.boundingBox.hide();\n    }\n\n    const onHide = this.settings.onHide;\n    if (onHide && typeof onHide === \"function\") {\n      onHide();\n    }\n\n    this.settings.zoomPane.hide();\n  }\n\n  _handleMovement(e) {\n    if (e) {\n      this._preventDefaultAllowTouchScroll(e);\n      this._lastMovement = e;\n    } else if (this._lastMovement) {\n      e = this._lastMovement;\n    } else {\n      return;\n    }\n\n    let movementX;\n    let movementY;\n\n    if (e.touches) {\n      const firstTouch = e.touches[0];\n      movementX = firstTouch.clientX;\n      movementY = firstTouch.clientY;\n    } else {\n      movementX = e.clientX;\n      movementY = e.clientY;\n    }\n\n    const el = this.settings.el;\n    const rect = el.getBoundingClientRect();\n    const offsetX = movementX - rect.left;\n    const offsetY = movementY - rect.top;\n\n    const percentageOffsetX = offsetX / this.settings.el.clientWidth;\n    const percentageOffsetY = offsetY / this.settings.el.clientHeight;\n\n    if (this.boundingBox) {\n      this.boundingBox.setPosition(percentageOffsetX, percentageOffsetY, rect);\n    }\n\n    this.settings.zoomPane.setPosition(percentageOffsetX, percentageOffsetY, rect);\n  }\n}\n","import throwIfMissing from \"./util/throwIfMissing\";\nimport { addClasses, removeClasses } from \"./util/dom\";\n\nexport default class ZoomPane {\n  constructor(options = {}) {\n    // All officially-supported browsers have this, but it's easy to\n    // account for, just in case.\n    this.HAS_ANIMATION = false;\n    if (typeof document !== \"undefined\") {\n      const divStyle = document.createElement(\"div\").style;\n      this.HAS_ANIMATION = \"animation\" in divStyle || \"webkitAnimation\" in divStyle;\n    }\n\n    this._completeShow = this._completeShow.bind(this);\n    this._completeHide = this._completeHide.bind(this);\n    this._handleLoad = this._handleLoad.bind(this);\n\n    this.isShowing = false;\n\n    const {\n      container = null,\n      zoomFactor = throwIfMissing(),\n      inline = throwIfMissing(),\n      namespace = null,\n      showWhitespaceAtEdges = throwIfMissing(),\n      containInline = throwIfMissing(),\n      inlineOffsetX = 0,\n      inlineOffsetY = 0,\n      inlineContainer = document.body\n    } = options;\n\n    this.settings = {\n      container,\n      zoomFactor,\n      inline,\n      namespace,\n      showWhitespaceAtEdges,\n      containInline,\n      inlineOffsetX,\n      inlineOffsetY,\n      inlineContainer\n    };\n\n    this.openClasses = this._buildClasses(\"open\");\n    this.openingClasses = this._buildClasses(\"opening\");\n    this.closingClasses = this._buildClasses(\"closing\");\n    this.inlineClasses = this._buildClasses(\"inline\");\n    this.loadingClasses = this._buildClasses(\"loading\");\n\n    this._buildElement();\n  }\n\n  _buildClasses(suffix) {\n    const classes = [`drift-${suffix}`];\n\n    const ns = this.settings.namespace;\n    if (ns) {\n      classes.push(`${ns}-${suffix}`);\n    }\n\n    return classes;\n  }\n\n  _buildElement() {\n    this.el = document.createElement(\"div\");\n    addClasses(this.el, this._buildClasses(\"zoom-pane\"));\n\n    const loaderEl = document.createElement(\"div\");\n    addClasses(loaderEl, this._buildClasses(\"zoom-pane-loader\"));\n    this.el.appendChild(loaderEl);\n\n    this.imgEl = document.createElement(\"img\");\n    this.el.appendChild(this.imgEl);\n  }\n\n  _setImageURL(imageURL) {\n    this.imgEl.setAttribute(\"src\", imageURL);\n  }\n\n  _setImageSize(triggerWidth, triggerHeight) {\n    this.imgEl.style.width = `${triggerWidth * this.settings.zoomFactor}px`;\n    this.imgEl.style.height = `${triggerHeight * this.settings.zoomFactor}px`;\n  }\n\n  // `percentageOffsetX` and `percentageOffsetY` must be percentages\n  // expressed as floats between `0' and `1`.\n  setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n    const imgElWidth = this.imgEl.offsetWidth;\n    const imgElHeight = this.imgEl.offsetHeight;\n    const elWidth = this.el.offsetWidth;\n    const elHeight = this.el.offsetHeight;\n\n    const centreOfContainerX = elWidth / 2;\n    const centreOfContainerY = elHeight / 2;\n\n    const targetImgXToBeCentre = imgElWidth * percentageOffsetX;\n    const targetImgYToBeCentre = imgElHeight * percentageOffsetY;\n\n    let left = centreOfContainerX - targetImgXToBeCentre;\n    let top = centreOfContainerY - targetImgYToBeCentre;\n\n    const differenceBetweenContainerWidthAndImgWidth = elWidth - imgElWidth;\n    const differenceBetweenContainerHeightAndImgHeight = elHeight - imgElHeight;\n    const isContainerLargerThanImgX = differenceBetweenContainerWidthAndImgWidth > 0;\n    const isContainerLargerThanImgY = differenceBetweenContainerHeightAndImgHeight > 0;\n\n    const minLeft = isContainerLargerThanImgX ? differenceBetweenContainerWidthAndImgWidth / 2 : 0;\n    const minTop = isContainerLargerThanImgY ? differenceBetweenContainerHeightAndImgHeight / 2 : 0;\n\n    const maxLeft = isContainerLargerThanImgX\n      ? differenceBetweenContainerWidthAndImgWidth / 2\n      : differenceBetweenContainerWidthAndImgWidth;\n    const maxTop = isContainerLargerThanImgY\n      ? differenceBetweenContainerHeightAndImgHeight / 2\n      : differenceBetweenContainerHeightAndImgHeight;\n\n    if (this.el.parentElement === this.settings.inlineContainer) {\n      // This may be needed in the future to deal with browser event\n      // inconsistencies, but it's difficult to tell for sure.\n      // let scrollX = isTouch ? 0 : window.scrollX;\n      // let scrollY = isTouch ? 0 : window.scrollY;\n      const scrollX = window.pageXOffset;\n      const scrollY = window.pageYOffset;\n\n      let inlineLeft =\n        triggerRect.left + percentageOffsetX * triggerRect.width - elWidth / 2 + this.settings.inlineOffsetX + scrollX;\n      let inlineTop =\n        triggerRect.top + percentageOffsetY * triggerRect.height - elHeight / 2 + this.settings.inlineOffsetY + scrollY;\n\n      if (this.settings.containInline) {\n        if (inlineLeft < triggerRect.left + scrollX) {\n          inlineLeft = triggerRect.left + scrollX;\n        } else if (inlineLeft + elWidth > triggerRect.left + triggerRect.width + scrollX) {\n          inlineLeft = triggerRect.left + triggerRect.width - elWidth + scrollX;\n        }\n\n        if (inlineTop < triggerRect.top + scrollY) {\n          inlineTop = triggerRect.top + scrollY;\n        } else if (inlineTop + elHeight > triggerRect.top + triggerRect.height + scrollY) {\n          inlineTop = triggerRect.top + triggerRect.height - elHeight + scrollY;\n        }\n      }\n\n      this.el.style.left = `${inlineLeft}px`;\n      this.el.style.top = `${inlineTop}px`;\n    }\n\n    if (!this.settings.showWhitespaceAtEdges) {\n      if (left > minLeft) {\n        left = minLeft;\n      } else if (left < maxLeft) {\n        left = maxLeft;\n      }\n\n      if (top > minTop) {\n        top = minTop;\n      } else if (top < maxTop) {\n        top = maxTop;\n      }\n    }\n\n    this.imgEl.style.transform = `translate(${left}px, ${top}px)`;\n    this.imgEl.style.webkitTransform = `translate(${left}px, ${top}px)`;\n  }\n\n  get _isInline() {\n    const inline = this.settings.inline;\n\n    return inline === true || (typeof inline === \"number\" && window.innerWidth <= inline);\n  }\n\n  _removeListenersAndResetClasses() {\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n    removeClasses(this.el, this.openClasses);\n    removeClasses(this.el, this.closingClasses);\n  }\n\n  show(imageURL, triggerWidth, triggerHeight) {\n    this._removeListenersAndResetClasses();\n    this.isShowing = true;\n\n    addClasses(this.el, this.openClasses);\n\n    if (this.imgEl.getAttribute(\"src\") != imageURL) {\n      addClasses(this.el, this.loadingClasses);\n      this.imgEl.addEventListener(\"load\", this._handleLoad, false);\n      this._setImageURL(imageURL);\n    }\n\n    this._setImageSize(triggerWidth, triggerHeight);\n\n    if (this._isInline) {\n      this._showInline();\n    } else {\n      this._showInContainer();\n    }\n\n    if (this.HAS_ANIMATION) {\n      this.el.addEventListener(\"animationend\", this._completeShow, false);\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n      addClasses(this.el, this.openingClasses);\n    }\n  }\n\n  _showInline() {\n    this.settings.inlineContainer.appendChild(this.el);\n    addClasses(this.el, this.inlineClasses);\n  }\n\n  _showInContainer() {\n    this.settings.container.appendChild(this.el);\n  }\n\n  hide() {\n    this._removeListenersAndResetClasses();\n    this.isShowing = false;\n\n    if (this.HAS_ANIMATION) {\n      this.el.addEventListener(\"animationend\", this._completeHide, false);\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n      addClasses(this.el, this.closingClasses);\n    } else {\n      removeClasses(this.el, this.openClasses);\n      removeClasses(this.el, this.inlineClasses);\n    }\n  }\n\n  _completeShow() {\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n\n    removeClasses(this.el, this.openingClasses);\n  }\n\n  _completeHide() {\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n\n    removeClasses(this.el, this.openClasses);\n    removeClasses(this.el, this.closingClasses);\n    removeClasses(this.el, this.inlineClasses);\n\n    this.el.setAttribute(\"style\", \"\");\n\n    // The window could have been resized above or below `inline`\n    // limits since the ZoomPane was shown. Because of this, we\n    // can't rely on `this._isInline` here.\n    if (this.el.parentElement === this.settings.container) {\n      this.settings.container.removeChild(this.el);\n    } else if (this.el.parentElement === this.settings.inlineContainer) {\n      this.settings.inlineContainer.removeChild(this.el);\n    }\n  }\n\n  _handleLoad() {\n    this.imgEl.removeEventListener(\"load\", this._handleLoad, false);\n    removeClasses(this.el, this.loadingClasses);\n  }\n}\n","import { isDOMElement } from \"./util/dom\";\nimport injectBaseStylesheet from \"./injectBaseStylesheet\";\n\nimport Trigger from \"./Trigger\";\nimport ZoomPane from \"./ZoomPane\";\n\nexport default class Drift {\n  constructor(triggerEl, options = {}) {\n    this.VERSION = \"1.4.0\";\n    this.triggerEl = triggerEl;\n\n    this.destroy = this.destroy.bind(this);\n\n    if (!isDOMElement(this.triggerEl)) {\n      throw new TypeError(\"`new Drift` requires a DOM element as its first argument.\");\n    }\n\n    // Prefix for generated element class names (e.g. `my-ns` will\n    // result in classes such as `my-ns-pane`. Default `drift-`\n    // prefixed classes will always be added as well.\n    const namespace = options[\"namespace\"] || null;\n    // Whether the ZoomPane should show whitespace when near the edges.\n    const showWhitespaceAtEdges = options[\"showWhitespaceAtEdges\"] || false;\n    // Whether the inline ZoomPane should stay inside\n    // the bounds of its image.\n    const containInline = options[\"containInline\"] || false;\n    // How much to offset the ZoomPane from the\n    // interaction point when inline.\n    const inlineOffsetX = options[\"inlineOffsetX\"] || 0;\n    const inlineOffsetY = options[\"inlineOffsetY\"] || 0;\n    // A DOM element to append the inline ZoomPane to\n    const inlineContainer = options[\"inlineContainer\"] || document.body;\n    // Which trigger attribute to pull the ZoomPane image source from.\n    const sourceAttribute = options[\"sourceAttribute\"] || \"data-zoom\";\n    // How much to magnify the trigger by in the ZoomPane.\n    // (e.g., `zoomFactor: 3` will result in a 900 px wide ZoomPane imag\n    // if the trigger is displayed at 300 px wide)\n    const zoomFactor = options[\"zoomFactor\"] || 3;\n    // A DOM element to append the non-inline ZoomPane to.\n    // Required if `inlinePane !== true`.\n    const paneContainer = options[\"paneContainer\"] === undefined ? document.body : options[\"paneContainer\"];\n    // When to switch to an inline ZoomPane. This can be a boolean or\n    // an integer. If `true`, the ZoomPane will always be inline,\n    // if `false`, it will switch to inline when `windowWidth <= inlinePane`\n    const inlinePane = options[\"inlinePane\"] || 375;\n    // If `true`, touch events will trigger the zoom, like mouse events.\n    const handleTouch = \"handleTouch\" in options ? !!options[\"handleTouch\"] : true;\n    // If present (and a function), this will be called\n    // whenever the ZoomPane is shown.\n    const onShow = options[\"onShow\"] || null;\n    // If present (and a function), this will be called\n    // whenever the ZoomPane is hidden.\n    const onHide = options[\"onHide\"] || null;\n    // Add base styles to the page. See the \"Theming\"\n    // section of README.md for more information.\n    const injectBaseStyles = \"injectBaseStyles\" in options ? !!options[\"injectBaseStyles\"] : true;\n    // An optional number that determines how long to wait before\n    // showing the ZoomPane because of a `mouseenter` event.\n    const hoverDelay = options[\"hoverDelay\"] || 0;\n    // An optional number that determines how long to wait before\n    // showing the ZoomPane because of a `touchstart` event.\n    // It's unlikely that you would want to use this option, since\n    // \"tap and hold\" is much more intentional than a hover event.\n    const touchDelay = options[\"touchDelay\"] || 0;\n    // If true, a bounding box will show the area currently being previewed\n    // during mouse hover\n    const hoverBoundingBox = options[\"hoverBoundingBox\"] || false;\n    // If true, a bounding box will show the area currently being previewed\n    // during touch events\n    const touchBoundingBox = options[\"touchBoundingBox\"] || false;\n    // A DOM element to append the bounding box to.\n    const boundingBoxContainer = options[\"boundingBoxContainer\"] || document.body;\n\n    if (inlinePane !== true && !isDOMElement(paneContainer)) {\n      throw new TypeError(\"`paneContainer` must be a DOM element when `inlinePane !== true`\");\n    }\n    if (!isDOMElement(inlineContainer)) {\n      throw new TypeError(\"`inlineContainer` must be a DOM element\");\n    }\n\n    this.settings = {\n      namespace,\n      showWhitespaceAtEdges,\n      containInline,\n      inlineOffsetX,\n      inlineOffsetY,\n      inlineContainer,\n      sourceAttribute,\n      zoomFactor,\n      paneContainer,\n      inlinePane,\n      handleTouch,\n      onShow,\n      onHide,\n      injectBaseStyles,\n      hoverDelay,\n      touchDelay,\n      hoverBoundingBox,\n      touchBoundingBox,\n      boundingBoxContainer\n    };\n\n    if (this.settings.injectBaseStyles) {\n      injectBaseStylesheet();\n    }\n\n    this._buildZoomPane();\n    this._buildTrigger();\n  }\n\n  get isShowing() {\n    return this.zoomPane.isShowing;\n  }\n\n  get zoomFactor() {\n    return this.settings.zoomFactor;\n  }\n\n  set zoomFactor(zf) {\n    this.settings.zoomFactor = zf;\n    this.zoomPane.settings.zoomFactor = zf;\n    this.trigger.settings.zoomFactor = zf;\n    this.boundingBox.settings.zoomFactor = zf;\n  }\n\n  _buildZoomPane() {\n    this.zoomPane = new ZoomPane({\n      container: this.settings.paneContainer,\n      zoomFactor: this.settings.zoomFactor,\n      showWhitespaceAtEdges: this.settings.showWhitespaceAtEdges,\n      containInline: this.settings.containInline,\n      inline: this.settings.inlinePane,\n      namespace: this.settings.namespace,\n      inlineOffsetX: this.settings.inlineOffsetX,\n      inlineOffsetY: this.settings.inlineOffsetY,\n      inlineContainer: this.settings.inlineContainer\n    });\n  }\n\n  _buildTrigger() {\n    this.trigger = new Trigger({\n      el: this.triggerEl,\n      zoomPane: this.zoomPane,\n      handleTouch: this.settings.handleTouch,\n      onShow: this.settings.onShow,\n      onHide: this.settings.onHide,\n      sourceAttribute: this.settings.sourceAttribute,\n      hoverDelay: this.settings.hoverDelay,\n      touchDelay: this.settings.touchDelay,\n      hoverBoundingBox: this.settings.hoverBoundingBox,\n      touchBoundingBox: this.settings.touchBoundingBox,\n      namespace: this.settings.namespace,\n      zoomFactor: this.settings.zoomFactor,\n      boundingBoxContainer: this.settings.boundingBoxContainer\n    });\n  }\n\n  setZoomImageURL(imageURL) {\n    this.zoomPane._setImageURL(imageURL);\n  }\n\n  disable() {\n    this.trigger.enabled = false;\n  }\n\n  enable() {\n    this.trigger.enabled = true;\n  }\n\n  destroy() {\n    this.trigger._hide();\n    this.trigger._unbindEvents();\n  }\n}\n\n// Public API\n/* eslint-disable no-self-assign */\nObject.defineProperty(Drift.prototype, \"isShowing\", {\n  get: function() {\n    return this.isShowing;\n  }\n});\nObject.defineProperty(Drift.prototype, \"zoomFactor\", {\n  get: function() {\n    return this.zoomFactor;\n  },\n  set: function(value) {\n    this.zoomFactor = value;\n  }\n});\nDrift.prototype[\"setZoomImageURL\"] = Drift.prototype.setZoomImageURL;\nDrift.prototype[\"disable\"] = Drift.prototype.disable;\nDrift.prototype[\"enable\"] = Drift.prototype.enable;\nDrift.prototype[\"destroy\"] = Drift.prototype.destroy;\n/* eslint-enable no-self-assign */\n","/* UNMINIFIED RULES\n\nconst RULES = `\n@keyframes noop {\n  0% { zoom: 1; }\n}\n\n@-webkit-keyframes noop {\n  0% { zoom: 1; }\n}\n\n.drift-zoom-pane.drift-open {\n  display: block;\n}\n\n.drift-zoom-pane.drift-opening, .drift-zoom-pane.drift-closing {\n  animation: noop 1ms;\n  -webkit-animation: noop 1ms;\n}\n\n.drift-zoom-pane {\n  position: absolute;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n\n.drift-zoom-pane-loader {\n  display: none;\n}\n\n.drift-zoom-pane img {\n  position: absolute;\n  display: block;\n  max-width: none;\n  max-height: none;\n}\n\n.drift-bounding-box {\n  position: absolute;\n  pointer-events: none;\n}\n`;\n\n*/\n\nconst RULES =\n  \".drift-bounding-box,.drift-zoom-pane{position:absolute;pointer-events:none}@keyframes noop{0%{zoom:1}}@-webkit-keyframes noop{0%{zoom:1}}.drift-zoom-pane.drift-open{display:block}.drift-zoom-pane.drift-closing,.drift-zoom-pane.drift-opening{animation:noop 1ms;-webkit-animation:noop 1ms}.drift-zoom-pane{overflow:hidden;width:100%;height:100%;top:0;left:0}.drift-zoom-pane-loader{display:none}.drift-zoom-pane img{position:absolute;display:block;max-width:none;max-height:none}\";\n\nexport default function injectBaseStylesheet() {\n  if (document.querySelector(\".drift-base-styles\")) {\n    return;\n  }\n\n  const styleEl = document.createElement(\"style\");\n  styleEl.type = \"text/css\";\n  styleEl.classList.add(\"drift-base-styles\");\n\n  styleEl.appendChild(document.createTextNode(RULES));\n\n  const head = document.head;\n  head.insertBefore(styleEl, head.firstChild);\n}\n","// This file is used for the standalone browser build\n\nimport Drift from \"./Drift\";\n\nwindow[\"Drift\"] = Drift;\n"],"sourceRoot":""}